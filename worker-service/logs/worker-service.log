2025-07-31T19:31:08.524-07:00  INFO 67626 --- [worker-service] [main] c.t.worker.WorkerServiceApplication      : Starting WorkerServiceApplication using Java 17.0.7 with PID 67626 (/Users/meghagaonkar/Documents/textify/worker-service/target/classes started by meghagaonkar in /Users/meghagaonkar/Documents/textify/worker-service)
2025-07-31T19:31:08.525-07:00 DEBUG 67626 --- [worker-service] [main] c.t.worker.WorkerServiceApplication      : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-31T19:31:08.526-07:00  INFO 67626 --- [worker-service] [main] c.t.worker.WorkerServiceApplication      : No active profile set, falling back to 1 default profile: "default"
2025-07-31T19:31:09.043-07:00  INFO 67626 --- [worker-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-31T19:31:09.111-07:00  INFO 67626 --- [worker-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 2 JPA repository interfaces.
2025-07-31T19:31:09.159-07:00  INFO 67626 --- [worker-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-07-31T19:31:09.165-07:00  INFO 67626 --- [worker-service] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-07-31T19:31:09.572-07:00  INFO 67626 --- [worker-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-31T19:31:09.577-07:00  INFO 67626 --- [worker-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-31T19:31:09.577-07:00  INFO 67626 --- [worker-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-07-31T19:31:09.618-07:00  INFO 67626 --- [worker-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-31T19:31:09.618-07:00  INFO 67626 --- [worker-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2025-07-31T19:31:09.740-07:00 DEBUG 67626 --- [worker-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-31T19:31:09.832-07:00  INFO 67626 --- [worker-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-31T19:31:09.862-07:00  INFO 67626 --- [worker-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-07-31T19:31:09.881-07:00  INFO 67626 --- [worker-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-31T19:31:09.984-07:00  INFO 67626 --- [worker-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-31T19:31:09.997-07:00  INFO 67626 --- [worker-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-31T19:31:10.093-07:00  INFO 67626 --- [worker-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11dbcb3b
2025-07-31T19:31:10.094-07:00  INFO 67626 --- [worker-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-31T19:31:10.510-07:00  INFO 67626 --- [worker-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-31T19:31:10.541-07:00  INFO 67626 --- [worker-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-31T19:31:10.556-07:00  INFO 67626 --- [worker-service] [main] c.g.c.s.a.c.GcpContextAutoConfiguration  : The default project ID is textify-466423
2025-07-31T19:31:10.592-07:00  INFO 67626 --- [worker-service] [main] c.g.c.s.core.DefaultCredentialsProvider  : Default credentials provider for service account api-service-key@textify-466423.iam.gserviceaccount.com
2025-07-31T19:31:10.592-07:00  INFO 67626 --- [worker-service] [main] c.g.c.s.core.DefaultCredentialsProvider  : Scopes in use by default credentials: [https://www.googleapis.com/auth/pubsub, https://www.googleapis.com/auth/spanner.admin, https://www.googleapis.com/auth/spanner.data, https://www.googleapis.com/auth/datastore, https://www.googleapis.com/auth/sqlservice.admin, https://www.googleapis.com/auth/devstorage.read_only, https://www.googleapis.com/auth/devstorage.read_write, https://www.googleapis.com/auth/cloudruntimeconfig, https://www.googleapis.com/auth/trace.append, https://www.googleapis.com/auth/cloud-platform, https://www.googleapis.com/auth/cloud-vision, https://www.googleapis.com/auth/bigquery, https://www.googleapis.com/auth/monitoring.write]
2025-07-31T19:31:10.856-07:00  INFO 67626 --- [worker-service] [main] c.t.worker.service.TesseractOcrService   : Tesseract initialized with path: /opt/homebrew/bin/tesseract, data-path: /opt/homebrew/share/tessdata, language: eng
2025-07-31T19:31:11.064-07:00  WARN 67626 --- [worker-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-31T19:31:11.124-07:00 DEBUG 67626 --- [worker-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'
2025-07-31T19:31:11.157-07:00 DEBUG 67626 --- [worker-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-31T19:31:11.177-07:00 DEBUG 67626 --- [worker-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-31T19:31:11.200-07:00 DEBUG 67626 --- [worker-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-31T19:31:12.025-07:00  INFO 67626 --- [worker-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2025-07-31T19:31:12.127-07:00  INFO 67626 --- [worker-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-07-31T19:31:12.127-07:00  INFO 67626 --- [worker-service] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'worker-service.errorChannel' has 1 subscriber(s).
2025-07-31T19:31:12.127-07:00  INFO 67626 --- [worker-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-07-31T19:31:12.127-07:00  INFO 67626 --- [worker-service] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {service-activator:pubSubMessageListener.receiveMessage.serviceActivator} as a subscriber to the 'pubsubInputChannel' channel
2025-07-31T19:31:12.127-07:00  INFO 67626 --- [worker-service] [main] o.s.integration.channel.DirectChannel    : Channel 'worker-service.pubsubInputChannel' has 1 subscriber(s).
2025-07-31T19:31:12.128-07:00  INFO 67626 --- [worker-service] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean 'pubSubMessageListener.receiveMessage.serviceActivator'
2025-07-31T19:31:12.137-07:00 DEBUG 67626 --- [worker-service] [main] com.google.cloud.pubsub.v1.Subscriber    : Starting subscriber group.
2025-07-31T19:31:12.139-07:00  INFO 67626 --- [worker-service] [main] .g.c.s.p.i.i.PubSubInboundChannelAdapter : started bean 'messageChannelAdapter'; defined in: 'class path resource [com/textify/worker/config/PubSubConfiguration.class]'; from source: 'com.textify.worker.config.PubSubConfiguration.messageChannelAdapter(com.google.cloud.spring.pubsub.core.PubSubTemplate)'
2025-07-31T19:31:12.142-07:00  INFO 67626 --- [worker-service] [Thread-3] c.g.c.p.v.StreamingSubscriberConnection  : Starting subscriber.
2025-07-31T19:31:12.147-07:00  INFO 67626 --- [worker-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path ''
2025-07-31T19:31:12.164-07:00  INFO 67626 --- [worker-service] [main] c.t.worker.WorkerServiceApplication      : Started WorkerServiceApplication in 3.885 seconds (process running for 4.101)
2025-07-31T19:31:12.967-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.PubSubMessageListener      : Received message: {"jobId":"cca3874f-50e3-4669-8d5c-7b8568d19425","originalGcsPath":"gs://textify-raw-files/cca3874f-50e3-4669-8d5c-7b8568d19425/TextifySample.pdf"}
2025-07-31T19:31:13.029-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Processing job: cca3874f-50e3-4669-8d5c-7b8568d19425
2025-07-31T19:31:13.106-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Job cca3874f-50e3-4669-8d5c-7b8568d19425 status updated to PROCESSING.
2025-07-31T19:31:13.362-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : File for job cca3874f-50e3-4669-8d5c-7b8568d19425 downloaded from GCS. Size: 67789 bytes
2025-07-31T19:31:13.565-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.worker.service.TesseractOcrService   : Native text extracted from PDF. Length: 3126
2025-07-31T19:31:13.565-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Text extracted for job cca3874f-50e3-4669-8d5c-7b8568d19425. Extracted text length: 3126
2025-07-31T19:31:13.904-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Processed text for job cca3874f-50e3-4669-8d5c-7b8568d19425 uploaded to GCS at gs://textify-processed-texts/cca3874f-50e3-4669-8d5c-7b8568d19425/TextifySample.txt.
2025-07-31T19:31:13.917-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Job cca3874f-50e3-4669-8d5c-7b8568d19425 status updated to COMPLETED.
2025-07-31T19:31:13.917-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.WorkerProcessingService    : Successfully processed job: cca3874f-50e3-4669-8d5c-7b8568d19425
2025-07-31T19:31:13.919-07:00  INFO 67626 --- [worker-service] [global-gcp-pubsub-subscriber1] c.t.w.service.PubSubMessageListener      : Message for job ID cca3874f-50e3-4669-8d5c-7b8568d19425 acknowledged successfully.
2025-07-31T19:32:02.528-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] .g.c.s.p.i.i.PubSubInboundChannelAdapter : stopped bean 'messageChannelAdapter'; defined in: 'class path resource [com/textify/worker/config/PubSubConfiguration.class]'; from source: 'com.textify.worker.config.PubSubConfiguration.messageChannelAdapter(com.google.cloud.spring.pubsub.core.PubSubTemplate)'
2025-07-31T19:32:02.530-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-07-31T19:32:02.530-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'worker-service.errorChannel' has 0 subscriber(s).
2025-07-31T19:32:02.530-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-07-31T19:32:02.531-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {service-activator:pubSubMessageListener.receiveMessage.serviceActivator} as a subscriber to the 'pubsubInputChannel' channel
2025-07-31T19:32:02.531-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.integration.channel.DirectChannel    : Channel 'worker-service.pubsubInputChannel' has 0 subscriber(s).
2025-07-31T19:32:02.531-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'pubSubMessageListener.receiveMessage.serviceActivator'
2025-07-31T19:32:02.547-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-31T19:32:02.551-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-31T19:32:02.557-07:00  INFO 67626 --- [worker-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
